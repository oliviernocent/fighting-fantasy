<!doctype html>
<!--<html data-theme="dark">-->
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Fighting Fantasy Companion App</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@1.0.4/css/bulma.min.css">
</head>

<body>
  <a href="index.html">
    <section class="hero is-small is-warning">
      <div class="hero-body">
        <p class="title">Fighting Fantasy</p>
        <p class="subtitle">Companion App</p>
      </div>
    </section>
  </a>

  <section class="section">
    <div class="container is-max-tablet">
      <h1 class="title">Test your luck</h1>

      <button id="test" class="button is-large is-fullwidth">üé≤ üé≤ Roll 2d6</button>

      <article id="lucky" class="message is-success mt-4 is-hidden">
        <div class="message-header">
          <p>Success</p>
        </div>
        <div class="message-body">
          <p>Congratulations!</p>
          <p>You have been <strong>lucky</strong>...</p>
        </div>
      </article>

      <article id="unlucky" class="message is-danger mt-4 is-hidden">
        <div class="message-header">
          <p>Failure</p>
        </div>
        <div class="message-body">
          <p>Sorry!</p>
          <p>You have been <strong>unlucky</strong>...</p>
        </div>
      </article>

      <a href="ingame.html" id="back" class="button is-large is-fullwidth is-hidden">‚Ü©Ô∏è Back</a>
    </div>
  </section>

  <footer class="footer mt-5">
    <div class="content has-text-centered">
      <p>
        <a href="https://cv.hal.science/oliviernocent" target="_blank">Olivier Nocent</a> &copy; 2025
        <a href="https://github.com/oliviernocent/fighting-fantasy/" target="_blank">
          <i class="fa-brands fa-github"></i>
        </a>
      </p>
    </div>
  </footer>

  <script src="common.js"></script>
  <script>
    test.addEventListener("click", (event) => {
      diceNumber = rollDice(2);
      event.target.outerHTML = `<p class="has-text-centered is-size-1">${diceFace[diceNumber[0]]}&nbsp;${diceFace[diceNumber[1]]}</span>`;

      if ((diceNumber[0] + diceNumber[1]) <= currentBook.currentLuck)
        lucky.classList.remove("is-hidden");
      else
        unlucky.classList.remove("is-hidden");

      back.classList.remove("is-hidden");

      if (currentBook.currentLuck > 0)
        currentBook.currentLuck--;

      saveToLocalStorage();
    });
  </script>
</body>

</html>